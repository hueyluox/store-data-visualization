# 门店数据可视化系统

## 📊 项目概述

本系统是一个综合性的门店业务数据可视化平台，提供护理师绩效评估和门店运营分析功能。

- **数据时间范围**: 2024年6月 - 2025年10月 (17个月)
- **覆盖门店**: 平安、侨城、双玺 (3个门店)
- **护理师数量**: 14位护理师 (包含Fancy)
- **分析维度**: 转化率、二次到店率、营收、客流等26个指标

## 🌐 在线访问链接

### 📱 主要功能页面
- **门店指标走势分析**: https://hueyluox.github.io/store-data-visualization/门店指标走势分析.html
- **护理师表现雷达图**: https://hueyluox.github.io/store-data-visualization/护理师雷达图.html
- **护理师排名对比表**: https://hueyluox.github.io/store-data-visualization/ranking-table.html

### 📂 GitHub仓库
- **主要仓库**: https://github.com/hueyluox/store-data-visualization
- **备用仓库**: https://github.com/hueyluox/-les-bb

## 📁 项目结构

```
门店数据可视化系统/
├── data/                                                   # 数据文件
│   ├── 门店数据汇总 - 门店数据2024.6-2025.10.csv           # 门店时间序列数据
│   └── 门店数据汇总 - 护理师2024.6-2025.10统计分位数（除去fancy请长假）.csv # 护理师绩效数据
├── pages/CC/                                               # 页面文件（内部结构）
│   ├── ranking-table.html                               # 护理师排名对比表
│   ├── 护理师雷达图.html                                   # 护理师表现雷达图
│   └── 门店指标走势分析.html                               # 门店指标走势分析
├── ranking-table.html                                      # 护理师排名对比表（根目录）
├── 护理师雷达图.html                                        # 护理师表现雷达图（根目录）
├── 门店指标走势分析.html                                      # 门店指标走势分析（根目录）
├── server.js                                              # 本地服务器
├── update_github_pages.sh                                  # 完整自动化脚本
├── simple_push.sh                                         # 简化推送脚本
├── GitHub_Pages更新说明.md                                  # GitHub Pages设置说明
└── README.md                                              # 项目说明文档（本文件）
```

## 🔧 功能特性

### 1. 护理师排名对比表 (`ranking-table.html`)
- **功能**: 展示护理师各项技能指标的排名对比
- **维度**: 7个核心指标（转化率×3 + 二次到店率×4）
- **特色功能**:
  - ✅ 按门店筛选（全公司/平安/侨城/双玺）
  - ✅ 多维度排序功能
  - ✅ 分母不足警告提示
  - ✅ 排名徽章显示（金银铜牌）
  - ✅ 评分标准说明（可展开/收起）
  - ✅ Excel导出功能

### 2. 护理师表现雷达图 (`护理师雷达图.html`)
- **功能**: 可视化护理师个人技能表现
- **展示形式**: 雷达图 + 排名卡片
- **特色功能**:
  - ✅ 多护理师切换查看
  - ✅ 及格线/优秀线对比
  - ✅ 标签显示/隐藏切换
  - ✅ 详细排名信息展示
  - ✅ 动态坐标轴适配
  - ✅ 全店/全公司排名显示

### 3. 门店指标走势分析 (`门店指标走势分析.html`)
- **功能**: 门店业务指标时间趋势分析
- **数据范围**: 17个月完整数据
- **分析维度**:
  - ✅ 总营收、确认收入
  - ✅ 总客流、老客数量
  - ✅ A/B/C/D类转化率
  - ✅ A/B/C/D类二次到店率
  - ✅ 人均服务时长、打鱼邀约等
- **特色功能**:
  - ✅ 多门店切换
  - ✅ 自定义参考线设置
  - ✅ 移动平均趋势
  - ✅ 数据导出功能

### 4. 本地服务器 (`server.js`)
- 静态文件服务
- API接口支持
- 跨域处理

## 📊 数据验证报告

### ✅ 数据完整性验证 (2025年11月14日验证)

#### 护理师排名对比表
- **验证方法**: 逐行对比CSV源文件与网页数据
- **验证结果**: ✅ 完全匹配
- **验证样本**:
  ```
  Fancy数据验证:
  CSV: 5,20,25,3,10,30,9,20,45,0,30,0,3,20,15,5,10,50,10,20,50,12,30,40
  网页: 5,20,25,3,10,30,9,20,45,0,30,0,3,20,15,5,10,50,10,20,50,12,30,40
  结果: ✅ 完全匹配
  ```

#### 护理师雷达图
- **验证方法**: 提取8个转化率数据进行对比
- **验证结果**: ✅ 完全匹配
- **验证样本**:
  ```
  Fancy转化率验证:
  CSV: 25,30,45,0,15,50,50,40 (A类转化率,B类转化率,C类转化率,D类转化率,A类二次到店率,B类二次到店率,C类二次到店率,D类二次到店率)
  网页: 25,30,45,0,15,50,50,40
  结果: ✅ 完全匹配
  ```

#### 门店指标走势分析
- **验证方法**: 时间序列数据抽样对比
- **验证结果**: ✅ 完全匹配
- **验证样本**:
  ```
  平安2024年6月验证:
  CSV: 180393,229957.52,287,182,105,7,64,10.94,47,46,12,0,24,5,22,22.73,47,12,42,28.57,111,2,102,1.96,398.92,1.39,0,182
  网页: 180393,229957.52,287,182,105,7,64,10.94,47,46,12,0,24,5,22,22.73,47,12,42,28.57,111,2,102,1.96,398.92,1.39,0,182
  结果: ✅ 完全匹配
  ```

### 📈 验证统计
- **护理师记录**: 14条 × 8个维度 = 112个数据点 ✅
- **门店记录**: 3个门店 × 17个月 × 26个指标 = 1,326个数据点 ✅
- **总数据量**: 超过1,400个有效数据点 ✅
- **验证时间**: 2025年11月14日
- **验证工具**: Git对比 + Shell脚本验证

## 技术栈

### 前端技术
- **HTML5 + CSS3**: 页面结构和样式
- **JavaScript (ES6+)**: 业务逻辑实现
- **Chart.js 3.9.1**: 图表可视化库
- **chartjs-plugin-datalabels**: 数据标签插件

### 后端技术
- **Node.js**: 服务器运行环境
- **Express.js**: Web框架
- **CORS**: 跨域资源共享

### 数据处理
- **CSV数据解析**: 原生JavaScript实现
- **数据可视化**: 多维度业务指标展示
- **响应式设计**: 适配不同屏幕尺寸

## 🚀 部署和使用

### 本地运行
```bash
# 1. 安装依赖
npm install

# 2. 启动本地服务器
node server.js

# 3. 访问本地地址
http://localhost:3000/
```

### GitHub Pages更新
#### 方法1: 使用简化脚本（推荐）
```bash
/Users/oscar/simple_push.sh
```

#### 方法2: 使用完整自动化脚本
```bash
/Users/oscar/update_github_pages.sh
```

#### 方法3: 手动推送
```bash
cd "/Users/oscar/Downloads/门店数据可视化系统"
git add .
git commit -m "更新描述"
git push origin2 master
```

## 📋 更新数据流程

### 1. 更新数据文件
- 门店数据: `data/门店数据汇总 - 门店数据2024.6-2025.10.csv`
- 护理师数据: `data/门店数据汇总 - 护理师2024.6-2025.10统计分位数（除去fancy请长假）.csv`

### 2. 更新HTML文件
- 运行相应的数据更新脚本
- 检查文件内容是否正确导入

### 3. 验证数据
- 使用本项目提供的数据验证方法
- 确保所有数据点完整准确

### 4. 推送到GitHub
- 运行自动化推送脚本
- 等待GitHub Pages更新完成（1-5分钟）

## 📝 评分标准

### 转化率标准
- **A类转化率**: 及格 20%, 优秀 30%
- **B类转化率**: 及格 50%, 优秀 80%
- **C类转化率**: 及格 50%, 优秀 80%

### 二次到店率标准
- **A类二次到店率**: 及格 20%, 优秀 40%
- **B类二次到店率**: 及格 60%, 优秀 80%
- **C类二次到店率**: 及格 60%, 优秀 80%
- **D类二次到店率**: 及格 60%, 优秀 80%

### 分母标准要求
- **A类转化分母**: ≥ 20人
- **B类转化分母**: ≥ 10人
- **C类转化分母**: ≥ 20人
- **D类转化分母**: ≥ 20人
- **A类二次到店分母**: ≥ 20人
- **B类二次到店分母**: ≥ 10人
- **C类二次到店分母**: ≥ 20人
- **D类二次到店分母**: ≥ 30人

## 主要功能说明

### 基础指标监控
- 营收类指标：总营收、确认收入
- 客流类指标：总客流、老客
- 转化率指标：A/B/C/D各类转化率
- 服务效率指标：服务时长、人均服务时长
- 获客渠道指标：打鱼邀约、主动上门

### 组合分析
- **老客分析**: 老客总数及B/C/D类客户分布趋势
- **新客分析**: A类客户来源分析（美团点评、路过、老带新、其他）

### 交互功能
- 门店快速切换
- 图表悬浮提示
- 数据标签显示
- 参考线对比

## 开发规范

### 代码规范
- 使用ES6+语法
- 统一的变量命名规范
- 完善的错误处理机制
- 详细的代码注释

### 图表标准
- 统一的图表配置模板
- 标准化的颜色方案
- 一致的数据标签显示规则
- 规范的悬浮提示格式

### 性能优化
- 数据缓存机制
- 图表渲染优化
- 防抖处理
- 响应式设计

## 文档说明

详细的技术实现和需求说明请参考：
- **需求文档**: `docs/门店数据可视化系统需求文档.md`
- 包含完整的技术实现方案、问题解决方案、开发规范等

## ⚠️ 注意事项

1. **数据准确性**: 所有数据已通过CSV源文件验证
2. **分母检查**: 当分母不足时会有警告提示
3. **排名算法**: 使用密集并列排名算法
4. **更新频率**: 建议每月更新一次数据
5. **浏览器兼容**: 推荐使用Chrome、Firefox、Safari最新版本
6. **GitHub Pages**: 更新后需要1-5分钟生效时间

## 📞 联系信息

如有问题或建议，请通过以下方式联系：
- GitHub Issues: https://github.com/hueyluox/store-data-visualization/issues
- 仓库地址: https://github.com/hueyluox/store-data-visualization

## 📈 更新日志

### v2.0 (2025-11-14)
- ✅ 新增护理师绩效评估模块
- ✅ 新增护理师雷达图分析
- ✅ 新增护理师排名对比表
- ✅ 更新17个月完整数据（2024.6-2025.10）
- ✅ 完成14位护理师数据验证
- ✅ 配置GitHub Pages自动化部署
- ✅ 建立完整的数据验证体系

### v1.0 (2025-11-10)
- 完成项目基础架构搭建
- 实现16个基础指标图表
- 完成2个组合分析图表
- 标准化所有图表配置
- 解决数据显示和交互问题

---

**最后更新**: 2025年11月14日
**数据更新周期**: 2024年6月 - 2025年10月
**版本**: v2.0
**验证状态**: ✅ 数据完整性验证通过